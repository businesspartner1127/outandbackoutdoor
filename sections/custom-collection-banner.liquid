{{ 'custom-collection-banner.css' | asset_url | stylesheet_tag }}

{% style %}
    .section-{{ section.id }} {
        padding-top: {{ section.settings.padding_top }}em;
        padding-bottom: {{ section.settings.padding_bottom }}em;
    }
    .section-{{ section.id }} .swiper-{{ section.id }} {
        position: relative;
    }
    .section-{{ section.id }} .swiper-{{ section.id }} .swiper-wrapper .swiper-slide {
        width: auto;
    }   
    .section-{{ section.id }} .swiper-button-next:after, .section-{{ section.id }} .swiper-button-prev:after {
        font-size: 1.5em;
        font-weight: 900;
        color: #fff;
    }
    .section-{{ section.id }} .cs-container .cs-grid .cs-banner-image .cs-content h2 {
        color: {{ section.settings.title_color }};
    }
    .section-{{ section.id }} .cs-container .cs-grid .cs-banner-image .cs-content p {
        color: {{ section.settings.paragraph_color }};
    }
    .section-{{ section.id }} .cs-container .cs-grid .cs-banner-image .cs-content .cs-links a {
        background: {{ section.settings.button_color }};
        border: 1px solid {{ section.settings.button_color }};
        color: {{ section.settings.button_text_color }};
        transition: all 0.4s;
    }
    .section-{{ section.id }} .cs-container .cs-grid .cs-banner-image .cs-content .cs-links a:hover {
        border: 1px solid {{ section.settings.button_color }};
        color: {{ section.settings.button_color }};
        background: {{ section.settings.button_text_color }};
    }
{% endstyle %}

<section id="{{ section.id }}" class="section-{{ section.id }} cs-collection-banner">
    <div class="cs-container">
        <div class="cs-grid">
            <div class="swiper-{{- section.id -}}">
                <div class="swiper-wrapper">
                    {% for block in section.blocks %}
                        {% if block.type == 'banner'%}
                            <div class="swiper-slide">                            
                                <div class="cs-banner-image" style="background-image: url({{ block.settings.banner_image | img_url: 'master' }});">
                                    <div class="cs-content">
                                        {% if block.settings.title != blank %}
                                            <h2 style="color: {{ block.settings.block_title_color }};">{{ block.settings.title }}</h2>
                                        {% endif %}
                                        {% if block.settings.paragraph != blank %}
                                            <p style="color: {{ block.settings.block_paragraph_color }};">{{ block.settings.paragraph }}</p>
                                        {% endif %}
                                        <div class="cs-links">
                                            {% if block.settings.first_button_label != blank %}
                                                <a href="{{ block.settings.first_button_link }}">{{ block.settings.first_button_label }}</a>
                                            {% endif %}
                                            {% if block.settings.second_button_label != blank %}
                                                <a href="{{ block.settings.second_button_link }}">{{ block.settings.second_button_label }}</a>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>                        
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
    </div>
</section>

<script>

    new Swiper('.swiper-{{- section.id -}}', {
        slidesPerView: 1,
        spaceBetween: 100,        
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        }
    })

</script>

{% schema %}
{
"name": "Custom Collection Banner",
"settings": [
    {
        "type": "header",
        "content": "Paddings"
    },
    {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 10,
        "step": 1,
        "unit": "em",
        "label": "Padding Top",
        "default": 2
    },
    {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 10,
        "step": 1,
        "unit": "em",
        "label": "Padding Bottom",
        "default": 2
    },
    {
        "type": "header",
        "content": "Colors"
    },
    {
        "type": "color",
        "id": "button_color",
        "label": "Button Color",
        "default": "#ffffff"
    },
    {
        "type": "color",
        "id": "button_text_color",
        "label": "Button Text Color",
        "default": "#26225d"
    }
],
"blocks": [
    {
        "name": "Banner",
        "type": "banner",
        "settings": [
            {
                "type": "image_picker",
                "id": "banner_image",
                "label": "Banner Image"
            },
            {
                "type": "text",
                "id": "title",
                "label": "Title",
                "default": "SHOP, SAVE AND SELL USED OUTDOOR GEAR"
            },
            {
                "type": "textarea",
                "id": "paragraph",
                "label": "Paragraph",
                "default": "Score deals on top outdoor brands and sell unwanted gear in minutes"
            },
            {
                "type": "text",
                "id": "first_button_label",
                "label": "First Button Label",
                "default": "START SHOPPING"
            },
            {
                "type": "url",
                "id": "first_button_link",
                "label": "First Button Link",
                "default": "/collections/all"
            },
            {
                "type": "text",
                "id": "second_button_label",
                "label": "Button Label",
                "default": "START SELLING"
            },
            {
                "type": "url",
                "id": "second_button_link",
                "label": "Button Link",
                "default": "/"
            },
            {
                "type": "header",
                "content": "Colors"
            },
            {
                "type": "color",
                "id": "block_title_color",
                "label": "Block Title Color",
                "default": "#26225d"
            },
            {
                "type": "color",
                "id": "block_paragraph_color",
                "label": "Block Paragraph Color",
                "default": "#ffffff"
            }
        ]
    }
],
"presets": [
    {
        "name": "Custom Collection Banner"
    }
]
}
{% endschema %}
